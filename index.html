<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>

    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./fonts.css">

    <script>
        let currentPokemon;
        

        async function loadPokemon() {
            let url = `https://pokeapi.co/api/v2/pokemon/charmander`;
            let response = await fetch(url);
            currentPokemon = await response.json();
            showDetailsPokemon();
        }

        


        function showDetailsPokemon() {
            let pokemonName = document.getElementById('pokemon-name');
            pokemonName.innerHTML = `${charToUpperCase(currentPokemon['forms'][0]['name'])}`;

            let pokemonID = document.getElementById('pokemon-id');
            pokemonID.innerHTML = `#${pokemonIDFillWithZeros()}`

            let pokemonType = document.getElementById('pokemon-type');
            pokemonType.innerHTML = `${charToUpperCase(currentPokemon['types'][0]['type']['name'])}`;

            let pokemonSprite = document.getElementById('pokemon-sprite')
            pokemonSprite.src = `${currentPokemon['sprites']['other']['official-artwork']['front_default']}`;

            //add later to onclick on pokemon in overview
            loadPokemonSpecies();
        }


        function charToUpperCase(text) {
            let firstCharUpperCase = text.charAt(0).toUpperCase() + text.slice(1);
            return firstCharUpperCase;
        }


        function pokemonIDFillWithZeros() {
            if (currentPokemon['id'] > 99) {
                return (currentPokemon['id'] + "").padStart(1, "0");

            } else if (currentPokemon['id'] > 9) {
                return (currentPokemon['id'] + "").padStart(2, "0");
                
            }else {
                return (currentPokemon['id'] + "").padStart(3, "0");
            }
        }

        async function loadPokemonSpecies(){
            let url = `${currentPokemon['species']['url']}`;
            let response = await fetch(url);
            let currentPokemonSpecies = await response.json();
            showPokemonSpecies(currentPokemonSpecies);
        }

        function showPokemonSpecies(currentPokemonSpecies){
            let pokemonSpecies = document.getElementById('pokemon-species');
            let modifiedSpeciesName = currentPokemonSpecies['genera'][7]['genus'].split(' ')
            pokemonSpecies.innerHTML = `${modifiedSpeciesName[0]}`;
        }

            // let pokemonHeight = document.getElementById('pokemon-height');
            // pokemonHeight.innerHTML = `${}`;

            // let pokemonWeight = document.getElementById('pokemon-weight');
            // pokemonWeight.innerHTML = `${}`;

            // let pokemonAbilities = document.getElementById('pokemon-abilities');
            // pokemonAbilities.innerHTML = `${}`;

            // let pokemonGender = document.getElementById('pokemon-gender');
            // pokemonGender.innerHTML = `${}`;

            // let pokemonEggGroups = document.getElementById('pokemon-egg-groups');
            // pokemonEggGroups.innerHTML = `${}`;
            
            // let pokemonEggCycle = document.getElementById('pokemon-egg-cycle');
            // pokemonEggCycle.innerHTML = `${}`;

    </script>

</head>

<body onload="loadPokemon()">
    <section class="pokemon-details">
        <div class="bg-details">
            <div class="global-info">
                <img class="arrow-back" src="./img/arrow_down.ico" alt="">
                <h1 id="pokemon-name"></h1>
                <span class="pokemon-id" id="pokemon-id"></span>
                <span class="pokemon-type" id="pokemon-type"></span>
            </div>
        </div>
        <div class="bg-details-chart">
            <div class="pokemon-sprite">
                <img id="pokemon-sprite" alt="picture of pokemon">
            </div>
            <nav class="pokemon-details-nav">
                <button>About</button>
                <button>Base Stats</button>
                <button>Evolution</button>
                <button>Moves</button>
            </nav>
            <div class="buttons-underline"></div>
            <div id="pokemon-details-content" class="pokemon-details-content">
                <div class="pokemon-details-about">
                    <div>
                        <span>Species</span>
                        <span id="pokemon-species" class="pokemon-species">s</span>
                    </div>
                    
                    <div>
                        <span>Height</span>
                        <span id="pokemon-height" class="pokemon-height"></span>
                    </div>
                    
                    <div>
                        <span>Weight</span>
                        <span id="pokemon-weight" class="pokemon-weight"></span>
                    </div>
                    
                    <div>
                        <span>Abilities</span>
                        <span id="pokemon-abilities" class="pokemon-abilities"></span>
                    </div>
                    
                    <h3>Breeding</h3>
                    <div>
                        <span>Gender</span>
                        <span id="pokemon-gender" class="pokemon-gender"></span>
                    </div>
                    
                    <div>
                        <span>Egg Groups</span>
                        <span id="pokemon-egg-groups" class="pokemon-egg-groups"></span>
                    </div>
                    
                    <div>
                        <span>Egg Cycle</span>
                        <span id="pokemon-egg-cycle" class="pokemon-egg-cycle"></span>
                    </div>
                    
                </div>
            </div>
            
        </div>
    </section>


</body>

</html>